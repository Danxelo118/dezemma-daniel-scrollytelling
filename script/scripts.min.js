const ctaIcon = document.querySelector(".scroll-cta i"); gsap.to("#cta-icon", { y: 20, duration: 1, repeat: -1, yoyo: !0, ease: "power1.inOut" }); const body = document.body; let scrollTimer; window.addEventListener("scroll", function () { body.classList.add("is-scrolling"), clearTimeout(scrollTimer), scrollTimer = setTimeout(function () { body.classList.remove("is-scrolling") }, 100) }), gsap.registerPlugin(ScrollTrigger), gsap.registerPlugin(MotionPathPlugin), gsap.registerPlugin(TextPlugin), gsap.to(".image-header", { duration: 2, ease: "power4.inOut", y: "-100vh", x: "100vh" }), gsap.to(".chapitre-0", { scrollTrigger: { trigger: ".chapitre-0", scrub: 1, pin: !0, delay: 2, start: "top", end: "+=100%", toggleClass: "disappear" } }); let messageSubmit = document.getElementById("submit-message"), messageOutput = document.getElementById("messageOutput"); messageSubmit.addEventListener("click", function () { let e = document.getElementById("message-input").value; console.log("messageSubmit:", messageSubmit), console.log("messageOutput:", messageOutput), messageOutput.textContent = e, document.getElementById("message-input").value = "" }), document.getElementById("submit-message").addEventListener("click", function () { gsap.timeline().to("#message-input, #submit-message", { opacity: 0, duration: 1, ease: "none" }) }), gsap.to(".chapitre-1 #sprite-sheet-bird", { x: "-30vw", x: "+=130vw", duration: 50, repeat: -1, scrollTrigger: { trigger: ".chapitre-1", start: "top 50%", end: "+=100%", toggleActions: "play reset play reset" } }), gsap.to(".montagne-3", { backgroundPosition: "50% -50%", ease: "none", scrollTrigger: { trigger: ".chapitre-1", start: "top bottom", end: "bottom top", scrub: !0 } }), gsap.to(".montagne-2", { backgroundPosition: "50% -30%", ease: "none", scrollTrigger: { trigger: ".chapitre-1", start: "top bottom", end: "bottom top", scrub: !0 } }), gsap.from(".texte-1", { xPercent: -100, duration: 1, color: "var(--beige)", ease: "power4.inOut", scrollTrigger: { trigger: ".chapitre-1", pin: !0 } }), MotionPathPlugin, gsap.to("#avion-1 img", { duration: 6, yoyo: !0, scrollTrigger: { trigger: ".chapitre-1", start: "top 50%", end: "+=100%", toggleActions: "play reset play reset" }, motionPath: { path: [{ x: 0, y: 50 }, { x: -80, y: 100 }, { x: -120, y: 90 }, { x: -220, y: 80 }, { x: -420, y: 70 }, { x: -620, y: 60 }, { x: -820, y: 90 }, { x: -1020, y: 70 }, { x: -1220, y: 90 }, { x: -1420, y: 70 }, { x: -1620, y: 80 }, { x: -2e3, y: 60 }, { x: -3e3, y: 80 },], curviness: .5, start: .1, end: 1 } }), gsap.to(".chapitre-2 #desert-ball", { x: "100vw", duration: 3, ease: "linear", rotation: 360, repeat: -1, scrollTrigger: { trigger: ".chapitre-2", start: "top 50%", end: "+=100%", toggleActions: "play reset play reset" } }), gsap.from(".texte-2", { text: "", duration: 2, color: "var(--beige)", ease: "power4.inOut", scrollTrigger: { trigger: ".chapitre-2", pin: !0 } }), MotionPathPlugin, gsap.to("#avion-2 img", { duration: 6, yoyo: !0, scrollTrigger: { trigger: ".chapitre-2", start: "top 50%", end: "+=100%", toggleActions: "play reset play reset" }, motionPath: { path: [{ x: 0, y: 50 }, { x: 80, y: 100 }, { x: 120, y: 90 }, { x: 220, y: 80 }, { x: 420, y: 70 }, { x: 620, y: 60 }, { x: 820, y: 90 }, { x: 1020, y: 70 }, { x: 1220, y: 90 }, { x: 1420, y: 70 }, { x: 1620, y: 80 }, { x: 2e3, y: 60 }, { x: 3e3, y: 80 },], autoRotate: !0, curviness: .5, start: .1, end: 1 } }), gsap.to(".chapitre-3 #sprite-sheet-whale", { x: "-30vw", x: "+=100vw", duration: 50, repeat: -1, scrollTrigger: { trigger: ".chapitre-3", start: "top 50%", end: "+=100%", toggleActions: "play reset play reset" } }), gsap.from(".texte-3", { duration: 2, text: "", color: "var(--beige)", ease: "power4.inOut", scrollTrigger: { trigger: ".chapitre-3", pin: !0 } }), MotionPathPlugin, gsap.to("#avion-3 img", { duration: 6, yoyo: !0, scrollTrigger: { trigger: ".chapitre-3", start: "top 50%", end: "+=100%", toggleActions: "play reset play reset" }, motionPath: { path: [{ x: 0, y: 50 }, { x: -80, y: 100 }, { x: -120, y: 90 }, { x: -220, y: 80 }, { x: -420, y: 70 }, { x: -620, y: 60 }, { x: -820, y: 90 }, { x: -1020, y: 70 }, { x: -1220, y: 90 }, { x: -1420, y: 70 }, { x: -1620, y: 80 }, { x: -2e3, y: 60 }, { x: -3e3, y: 80 },], autoRotate: !1, curviness: .5, start: .1, end: 1 } }), gsap.to(".chapitre-4 #lune-1", { x: "15vw", y: "15vh", rotation: 40, duration: 2, ease: "power4.inOut", opacity: 0, scale: 1.5, yoyo: !0, scrollTrigger: { trigger: ".chapitre-4", start: "top 50%", end: "+=100%", toggleActions: "play reset play reset" } }), gsap.to(".chapitre-4 #lune-2", { x: "-15vw", y: "6vh", rotation: -30, duration: 2, opacity: 0, ease: "power4.inOut", scale: 1.5, yoyo: !0, scrollTrigger: { trigger: ".chapitre-4", start: "top 50%", end: "+=100%", toggleActions: "play reset play reset" } }), gsap.from(".texte-4", { xPercent: -100, duration: 1, color: "var(--space)", ease: "power4.inOut", scrollTrigger: { trigger: ".chapitre-4", pin: !0 } }), MotionPathPlugin, gsap.to("#avion-4 img", { duration: 6, yoyo: !0, scrollTrigger: { trigger: ".chapitre-4", start: "top 50%", end: "+=100%", toggleActions: "play reset play reset" }, motionPath: { path: [{ x: 0, y: 50 }, { x: 80, y: 100 }, { x: 120, y: 90 }, { x: 220, y: 80 }, { x: 420, y: 70 }, { x: 620, y: 60 }, { x: 820, y: 90 }, { x: 1020, y: 70 }, { x: 1220, y: 90 }, { x: 1420, y: 70 }, { x: 1620, y: 80 }, { x: 2e3, y: 60 }, { x: 3e3, y: 80 },], autoRotate: !0, curviness: .5, start: .1, end: 1 } }); let planets = gsap.timeline({ scrollTrigger: { trigger: ".chapitre-5", start: "top 50%", end: "+=100%", toggleActions: "play reverse play reverse" } }); planets.to(".chapitre-5 #planete-2", { duration: 3, ease: "power1.inOut", repeat: -1, yoyo: !0, y: "100vh", rotation: 360 }), planets.to(".chapitre-5 #planete-3", { duration: 3, ease: "power1.inOut", y: "100vh", rotation: 360, repeat: -1, yoyo: !0 }, "-=0.5"), gsap.from(".texte-5", { text: "", duration: 1, color: "var(--beige)", ease: "power4.inOut", scrollTrigger: { trigger: ".chapitre-5", pin: !0 } }), MotionPathPlugin, gsap.to("#avion-5 img", { duration: 6, yoyo: !0, scrollTrigger: { trigger: ".chapitre-5", start: "top 50%", end: "+=100%", toggleActions: "play reset play reset" }, motionPath: { path: [{ x: 0, y: 50 }, { x: -80, y: 100 }, { x: -120, y: 90 }, { x: -220, y: 80 }, { x: -420, y: 70 }, { x: -620, y: 60 }, { x: -820, y: 90 }, { x: -1020, y: 70 }, { x: -1220, y: 90 }, { x: -1420, y: 70 }, { x: -1620, y: 80 }, { x: -2e3, y: 60 }, { x: -3e3, y: 80 },], curviness: .5, start: .1, end: 1 } }), gsap.to(".chapitre-6 #planete-1", { duration: 2, ease: "linear", rotation: 360, repeat: -1, scrollTrigger: { trigger: ".chapitre-6", start: "top 50%", end: "+=100%", toggleActions: "play reset play reset" } }), gsap.to(".chapitre-6 #spaceship", { x: "-100vw", duration: 2, ease: "power4.inOut", scrollTrigger: { trigger: ".chapitre-6", start: "top 50%", end: "+=100%", toggleActions: "play reset play reset" } }), gsap.to(".chapitre-6 #spaceship", { scale: .5, duration: 1, ease: "power4.inOut", yoyo: !0, scrollTrigger: { trigger: ".chapitre-6", start: "top 50%", end: "+=100%", toggleActions: "play reset play reset" } }), gsap.from(".texte-6", { text: "", duration: 1, color: "var(--beige)", ease: "power4.inOut", scrollTrigger: { trigger: ".chapitre-6", pin: !0 } }), MotionPathPlugin, gsap.to("#avion-6 img", { duration: 6, yoyo: !0, scrollTrigger: { trigger: ".chapitre-6", start: "top 50%", end: "+=100%", toggleActions: "play reset play reset" }, motionPath: { path: [{ x: 0, y: 50 }, { x: 80, y: 100 }, { x: 120, y: 90 }, { x: 220, y: 80 }, { x: 420, y: 70 }, { x: 620, y: 60 }, { x: 820, y: 90 }, { x: 1020, y: 70 }, { x: 1220, y: 90 }, { x: 1420, y: 70 }, { x: 1620, y: 80 }, { x: 2e3, y: 60 }, { x: 3e3, y: 80 },], autoRotate: !0, curviness: .5, start: .1, end: 1 } }); let text = gsap.timeline({ scrollTrigger: { trigger: ".chapitre-7", start: "top 50%", end: "+=100%", toggleActions: "restart play reverse reset" } }); text.to(".chapitre-7 #paper-plane", { duration: 2, x: "-30vw", ease: "power3.inOut", opacity: 0 }, "-=0.5"), text.to(".chapitre-7 #bubble", { opacity: 1, duration: .5, ease: "power4.inOut", onComplete: function () { gsap.to(".chapitre-7 #messageOutput", { opacity: 1, duration: .5, ease: "power4.inOut" }) } }), gsap.from(".texte-7", { text: "", duration: 1, color: "var(--space)", ease: "power4.inOut", scrollTrigger: { trigger: ".chapitre-7", pin: !0 } });